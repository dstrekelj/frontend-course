# Frontend Course / Introduction / How Does the Internet Work?

[:arrow_backward: Frontend Course / Introduction](./README.md)

---

## The Internet Protocol

The internet works much like the postal service. Let's begin by looking at how we communicate with each other by post:

1. We want to send a package.
2. We address it so the postal carrier knows who to deliver it to.
3. When the package reaches the processing plant it is assigned a carrier that knows the address' general area.
4. The carrier picks up the package, checks the address, and attempts to make the delivery.
5. If the package cannot be delivered, the processing plant and sender are notified.

Communication between computers over the internet is not much different.

Computers communicate by sending **messages**. Before being sent, messages are broken down into smaller pieces called **packets**. Packets are structured according to a set of rules called a **protocol**, in this case the **Internet Protocol (IP)**.

The computer knows which message a packet belongs to by the data stored in the **packet headers**. The packet data also instructs the computer how to reconstruct the message from the packets it receives. Using our previous analogy, the packet headers contain information similar to that we'd provide when addressing an envelope or package according to the post office's rules.

Packets are sent over the internet through a network of **routers**. Routers are specialised computers tasked with moving a packet from the source computer to the destination computer. Routers find computers on the network by the unique address each computer on the network is assigned. This unique address is called the Internet Protocol address or **IP address**.

The IP address is a series of four numbers ranging from 0 to 255 separated by dots, e.g. `192.168.1.1`. Routers keep track of **routing tables** which point IP addresses to other computers or routers on the network. A packet can move through several routers in a routing network before reaching the destination computer. Packets can **time out** if the destination computer isn't found in a specified time interval. Again, this bears similarities to the package processing plant and post carriers from our previous analogy - both the processing plants and post carriers reroute packages to other plants if the recipient address isn't found.

> :point_up: **Note!**
>
> Some IP addresses are reserved for special purposes. For example, the address `127.0.0.1` is the `localhost` address, an address that refers to the device accessing it. To put it even simpler, _it's the address used to access the device from the device itself_.

> :point_up: **Note!**
>
> Two versions of the Internet Protocol are currently in effect: IPv4 and IPv6. IPv4 assigns devices with unique numerical IP addresses such as `123.234.210.012` and can store up to 2^32 (4.19 billion) addresses. IPv6 was introduced to increase the number of available IP addresses to 2^128 (340 undecillion) by using a hexadecimal format such as `abcd:ef12:3456:7890:0000:0000:0000:0000`. IPv6 has proven to be invaluable with the advent of IoT (Internet of Things) and smart devices; and while IPv4 and IPv6 currently coexist, the two aren't interoperable and IPv6 will become the norm in the future.

## TCP and UDP protocols

Once the packets arrive at their destination, their data structure is read and they are assembled into the message that was sent by the source computer. However, like with the post in real life, sometimes packets don't reach their destination and the message gets corrupted. This is known as **packet loss**.

Packet loss and other unfortunate occurrences are handled by **transport protocols**. Transport protocols define rules for packet communication, reliability, flow control, and more. Two of the most commonly used transport protocols are Transport Control Protocol (TCP) and User Datagram Protocol (UDP).

### Transport Control Protocol (TCP)

**TCP** offers reliable packet transport even over unreliable networks. It establishes a connection between computers with the help of a three-way handshake:

1. the connection is first initiated and acknowledged;
2. then the connection is established and data transfer started;
3. and finally the connection is terminated when the transfer is finished.

The handshaking process makes TCP slower in comparison to other protocols, but enables the computer to perform error checking and recovery if a packet is affected.

### User Datagram Protocol (UDP)

**UDP** offers faster packet transport at the cost of reliability. It does not use handshake protocols to establish a connection and is thus considered connectionless. It also does not perform error checking and recovery, but instead discards all faulty packets upon their arrival. This makes UDP packets smaller for faster transport.

UDP is is widely used for audio and video stream broadcasting where packet loss - observed in the form of degraded quality or glitching - is an acceptable trade-off for the transport speed it offers.

In our analogy, the transport protocol is our friendly neighbourhood postman or postwoman, handing us the package in person (TCP) or leaving it on the front porch (UDP).

> :clown_face: **Fun fact**
>
> The complete suite of technologies used to communicate over the internet is called the Transfer Control Protocol/Internet Protocol (TCP/IP) Suite.

## HTTP

> :construction:
> This section is a work in progess!
> @todo user-agent? HTTP/2 frames?

The web browser and web server communicate packages using the HyperText Transfer Protocol (HTTP). Packages transmitted using HTTP represent hypermedia documents such as hypertext, graphics, audio, and video. As such, HTTP is the foundation upon which the World Wide Web was built.

> :point_up: **Note!**
> Hypermedia is any medium of information that can be consumed nonlinearly and interactively, often by following hyperlinks that connect individual documents and other media into a greater whole.

Packages are transmitted using a client-server model, where the client and server exchange individual messages between them. The web browser, as the client, performs requests for hypermedia. The web server serves hypermedia by responding to requests. The process goes like this:

1. the client ensures a TCP connection to the server by opening a new connection or reusing an existing one;
2. the client sends an HTTP message;
3. the client reads the response from the server;
4. the client cloes the connection or keeps it open to be reused for further requests.

A network error can cause the client to be nable to establish a connection to the server or send an HTTP message. A server error can cause the client not to receive a response from the server or to receive an error response.

> :point_up: **Note!**
> Any code, application, or software that can perform an HTTP request can be a client. The role is not reserved for web browsers only.

@todo HTTP request message structure

@todo HTTP response message structure

> :point_up: **Note!**
> HTTPS (HyperText Transfer Protocol Secure) is an extension of HTTP that uses the Transport Layer Security (TLS) protocol to secure the communication between the client and the server. HTTPS encrypts traffic and protects the privacy and integrity of data being transferred.

## DNS

> :construction:
> This section is a work in progess!

## Hosting

> :construction:
> This section is a work in progess!
